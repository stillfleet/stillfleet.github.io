{% if include.text %}
  {% assign text = include.text %}
{% else %}
  {% assign text = "Buy now" %}  
{% endif %}

{% if include.url contains 'drivethrurpg' %}
  {% assign vendor = 'drivethrurpg' %}
{% elsif include.url contains 'itch.io' %}
  {% assign vendor = 'itchio' %}
{% else %}
  {% assign vendor = 'unknown' %}
{% endif %}

<a href="{{ include.url }}" class="external purchase {{ vendor }} {{ include.class }}">{{ include.text }}</a>